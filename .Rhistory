str(gii)
colnames(gii)
colnames(hd)
colnames(hd)[1] <- "hdirank"
colnames(hd)[2] <- "country"
colnames(hd)[3] <- "hdi"
colnames(hd)[4] <- "lifeexpbirth"
colnames(hd)[5] <- "expeduyears"
colnames(hd)[6] <- "meaneduyears"
colnames(hd)[7] <- "gnicapita"
colnames(hd)[8] <- "gnicapitarank_minus_hdirank"
colnames(gii)[1] <- "giirank"
colnames(gii)[2] <- "country"
colnames(gii)[3] <- "gii"
colnames(gii)[4] <- "maternalmortratio"
colnames(gii)[5] <- "adolbirth"
colnames(gii)[6] <- "parliamentF"
colnames(gii)[7] <- "edu2F"
colnames(gii)[8] <- "edu2M"
colnames(gii)[9] <- "labF"
colnames(gii)[10] <- "labM"
colnames(hd)
colnames(gii)
hd_gii <- mutate(hd_gii, edu2ratio = edu2F / edu2M)
gii <- mutate(hd_gii, edu2ratio = edu2F / edu2M)
gii <- mutate(gii, edu2ratio = edu2F / edu2M)
gii <- mutate(gii, labratio = labF / labM)
join_by <- c("country")
human <- inner_join(hd, gii, by = join_by)
colnames(human)
glimpse(human)
write.csv(human, file = "human.csv")
read.table("human.csv", sep = ";", header=TRUE)
model_predictors <- dplyr::select(train, -crime)
model_predictors <- dplyr::select(train, -train$crime)
model_predictors <- dplyr::select(train, -crime)
model_predictors <- dplyr::select(train, "-crime")
library(dplyr)
library(stringr)
read.table("human.csv", sep = ";", header=TRUE)
human$gnicapita <- as.numeric(human$gnicapita)
str(human)
keep <- c("country", "edu2ratio", "labratio", "eduexpyears", "lifeexpbirth", "gnicapita", "maternalmortratio", "adolbirth", "parliamentF")
human <- select(human, one_of(keep))
keep <- c("country", "edu2ratio", "labratio", "expeduyears", "lifeexpbirth", "gnicapita", "maternalmortratio", "adolbirth", "parliamentF")
human <- select(human, one_of(keep))
complete.cases(human)
data.frame(human[-1], comp = complete.cases(human))
human <- filter(human, complete.cases(human))
str(human)
tail(human, n = 10L)
read.table("human.csv", sep = ";", header=TRUE)
str(human)
library(dplyr)
library(stringr)
read.table("human.csv", sep = ";", header=TRUE)
str(human)
str(human$gnicapita)
str_replace(human$gnicapita, pattern=",", replace ="") %>% as.numeric(human$GNI)
str(human)
human <- human[1:195, ]
str(human)
str(human$gnicapita)
str_replace(human$gnicapita, pattern=",", replace ="") %>% as.numeric(human$GNI)
complete.cases(human)
data.frame(human[-1], comp = complete.cases(human))
human <- filter(human, complete.cases(human))
str(human)
human <- human[1:195, ]
str(human)
str(human$expeduyears)
tail(human, n = 10L)
last <- nrow(human) + 7
human <- human[1:last, ]
str(human)
str(human)
last <- nrow(human) - 7
human <- human[1:last, ]
str(human)
complete.cases(human)
library(dplyr)
library(stringr)
read.table("human.csv", sep = ";", header=TRUE)
str(human$gnicapita)
str_replace(human$gnicapita, pattern=",", replace ="") %>% as.numeric(human$GNI)
human$gnicapita <- str_replace(human$gnicapita, pattern=",", replace ="") %>% as.numeric(human$GNI)
read.table("human.csv", sep = ";", header=TRUE)
str(human$gnicapita)
View(por)
human <- read.table("human.csv", sep = ";", header=TRUE)
str(human$gnicapita)
human <- read.table("human.csv", sep = ",", header=TRUE)
str(human$gnicapita)
human$gnicapita <- str_replace(human$gnicapita, pattern=",", replace ="") %>% as.numeric(human$GNI)
keep <- c("country", "edu2ratio", "labratio", "expeduyears", "lifeexpbirth", "gnicapita", "maternalmortratio", "adolbirth", "parliamentF")
human <- select(human, one_of(keep))
library(dplyr)
library(stringr)
human <- read.table("human.csv", sep = ",", header=TRUE)
str(human$gnicapita)
str(human$gnicapita)
human$gnicapita <- str_replace(human$gnicapita, pattern=",", replace ="") %>% as.numeric(human$GNI)
keep <- c("country", "edu2ratio", "labratio", "expeduyears", "lifeexpbirth", "gnicapita", "maternalmortratio", "adolbirth", "parliamentF")
human <- select(human, one_of(keep))
complete.cases(human)
data.frame(human[-1], comp = complete.cases(human))
human <- filter(human, complete.cases(human))
tail(human, n = 10L)
last <- nrow(human) - 7
human <- human[1:last, ]
rownames(human) <- human$country
human <- select(human, -country)
str(human)
write.csv(human, file = "human.csv")
read.table("human.csv", sep = ",", header=TRUE)
human <- read.table("human.csv", sep = ",", header=TRUE)
str(human)
View(human)
str(gii)
human <- read.table("human.csv", sep = ",", header=TRUE)
str(human)
dim(human)
library(MASS)
pairs(human)
library(ggplot2)
g1 <- ggplot(human, aes())
g1 + geom_boxplot()
g1 <- ggplot(human, aes(x = edu2ratio))
g1 + geom_boxplot()
library(MASS); library(tidyr); library(dplyr);
library(MASS); library(tidyr); library(dplyr)
gather(human) %>% glimpse
gather(human) %>% ggplot(aes(value)) + geom_bar() + facet_wrap("key", scales = "free")
gather(human) %>% ggplot(aes(value)) + geom_density() + facet_wrap("key", scales = "free")
gather(human) %>% ggplot(aes(value)) + geom_histogram() + facet_wrap("key", scales = "free")
human <- read.table("human.csv", sep = ",", rownames=TRUE)
human <- read.table("human.csv", sep = ",", row.names=TRUE, header=TRUE)
write.csv(human, file = "human.csv", row.names=TRUE)
library(dplyr)
library(stringr)
# read data
human <- read.table("human.csv", sep = ",", header=TRUE)
# transform the Gross National Income (GNI) variable to numeric
# look at the structure of GNI column
str(human$gnicapita)
# remove the commas and print out a numeric version of it
human$gnicapita <- str_replace(human$gnicapita, pattern=",", replace ="") %>% as.numeric(human$GNI)
# select columns to keep
keep <- c("country", "edu2ratio", "labratio", "expeduyears", "lifeexpbirth", "gnicapita", "maternalmortratio", "adolbirth", "parliamentF")
# select the 'keep' columns
human <- select(human, one_of(keep))
# remove rows with missing values
# print out a completeness indicator
complete.cases(human)
# print out the data with a completeness indicator as the last column
data.frame(human[-1], comp = complete.cases(human))
# filter out rows with missing values
human <- filter(human, complete.cases(human))
# remove observations relating to regions
# look at the last 10 observations of human
tail(human, n = 10L)
# define the last indice we want to keep
last <- nrow(human) - 7
# choose everything until the last 7 observations
human <- human[1:last, ]
# define the row names of the data by the country names
rownames(human) <- human$country
# remove the country name column
human <- select(human, -country)
str(human)
# save the human data including the row names
write.csv(human, file = "human.csv", row.names=TRUE)
human <- read.table("human.csv", sep = ",", header=TRUE)
# Elina Turunen
# Exercise 4 (Data Wrangling) and 5
# Original data source: http://s3.amazonaws.com/assets.datacamp.com/production/course_2218/datasets/human1.txt
# Exercise 4: Data Wrangling
# read the “Human development” and “Gender inequality” datas
hd <- read.csv("http://s3.amazonaws.com/assets.datacamp.com/production/course_2218/datasets/human_development.csv", stringsAsFactors = F)
gii <- read.csv("http://s3.amazonaws.com/assets.datacamp.com/production/course_2218/datasets/gender_inequality.csv", stringsAsFactors = F, na.strings = "..")
# see the structure and dimensions of the data. Create summaries of the variables.
str(hd)
dim(hd)
summary(hd)
str(gii)
dim(gii)
summary(gii)
colnames(gii)
colnames(hd)
# rename the variables with (shorter) descriptive names
colnames(hd)[1] <- "hdirank"
colnames(hd)[2] <- "country"
colnames(hd)[3] <- "hdi"
colnames(hd)[4] <- "lifeexpbirth"
colnames(hd)[5] <- "expeduyears"
colnames(hd)[6] <- "meaneduyears"
colnames(hd)[7] <- "gnicapita"
colnames(hd)[8] <- "gnicapitarank_minus_hdirank"
colnames(gii)[1] <- "giirank"
colnames(gii)[2] <- "country"
colnames(gii)[3] <- "gii"
colnames(gii)[4] <- "maternalmortratio"
colnames(gii)[5] <- "adolbirth"
colnames(gii)[6] <- "parliamentF"
colnames(gii)[7] <- "edu2F"
colnames(gii)[8] <- "edu2M"
colnames(gii)[9] <- "labF"
colnames(gii)[10] <- "labM"
# print out the new column names of the data
colnames(hd)
colnames(gii)
# define new columns edu2ratio and labratio
gii <- mutate(gii, edu2ratio = edu2F / edu2M)
gii <- mutate(gii, labratio = labF / labM)
# common columns to use as identifiers
join_by <- c("country")
# join datasets by the selected identifiers
human <- inner_join(hd, gii, by = join_by)
# see column names
colnames(human)
# glimpse data
glimpse(human)
# save data to data folder
write.csv(human, file = "human1.csv")
human1 <- read.table("human1.csv", sep = ",", header=TRUE)
write.csv(human, file = "human1.csv", row.names=FALSE)
human1 <- read.table("human1.csv", sep = ",", header=TRUE)
str(human1)
human <- read.table("human1.csv", sep = ",", header=TRUE)
str(human)
# transform the Gross National Income (GNI) variable to numeric
# look at the structure of GNI column
str(human$gnicapita)
# remove the commas and print out a numeric version of it
human$gnicapita <- str_replace(human$gnicapita, pattern=",", replace ="") %>% as.numeric(human$GNI)
# select columns to keep
keep <- c("country", "edu2ratio", "labratio", "expeduyears", "lifeexpbirth", "gnicapita", "maternalmortratio", "adolbirth", "parliamentF")
# select the 'keep' columns
human <- select(human, one_of(keep))
# remove rows with missing values
# print out a completeness indicator
complete.cases(human)
# print out the data with a completeness indicator as the last column
data.frame(human[-1], comp = complete.cases(human))
# filter out rows with missing values
human <- filter(human, complete.cases(human))
# remove observations relating to regions
# look at the last 10 observations of human
tail(human, n = 10L)
# define the last indice we want to keep
last <- nrow(human) - 7
# choose everything until the last 7 observations
human <- human[1:last, ]
# define the row names of the data by the country names
rownames(human) <- human$country
# remove the country name column
human <- select(human, -country)
str(human)
write.csv(human, file = "human2.csv", row.names=TRUE)
human <- read.table("human2.csv", sep = ",", header=TRUE)
str(human)
row.names(human)
str(human)
str(human2)
human2 <- read.table("human2.csv", sep = ";", header=TRUE)
str(human2)
human2 <- read.table("human2.csv", sep = ",", header=TRUE)
str(human2)
rownames(human2)
rownames(human) <- human$country
rownames(human2) <- human2$country
rownames(human2)
human <- select(human, -country)
human2 <- select(human2, -country)
colnames(human2)
str(human2)
colnames(human2)[1] <- "country"
colnames(human2)
rownames(human2) <- human2$country
rownames(human2)
human2 <- select(human2, -country)
str(human2)
dim(human2)
library(MASS); library(tidyr); library(dplyr)
pairs(human)
p <- ggpairs(human2, mapping = aes(), lower = list(combo = wrap("facethist", bins = 20)))
library(MASS); library(tidyr); library(dplyr); library(ggplot2)
p <- ggpairs(human2, mapping = aes(), lower = list(combo = wrap("facethist", bins = 20)))
library(MASS); library(tidyr); library(dplyr); library(ggplot2); library(GGally)
p <- ggpairs(human2, mapping = aes(), lower = list(combo = wrap("facethist", bins = 20)))
p
ggpairs(human2)
gather(human2) %>% glimpse
gather(human2) %>% ggplot(aes(value)) + geom_bar() + facet_wrap("key", scales = "free")
gather(human2) %>% ggplot(aes(value)) + geom_histogram() + facet_wrap("key", scales = "free")
summary(human2)
pca_human2 <- prcomp(human2)
biplot(pca_human2, choices = 1:2)
human2_std <- scale(human2)
summary(human2_std)
pca_human2 <- prcomp(human2_std)
biplot(pca_human2, choices = 1:2)
biplot(pca_human2, choices = 1:2, cex = c(0.5, 2))
biplot(pca_human2, choices = 1:2, cex = c(0.5, 1.5))
pca_human2 <- prcomp(human2)
biplot(pca_human2, choices = 1:2, ggtitle("Principal components explaining variance in non-standardized human2 data"))
biplot(pca_human2, choices = 1:2) + ggtitle("Principal components explaining variance in non-standardized human2 data"))
biplot(pca_human2, choices = 1:2, title("Principal components explaining variance in non-standardized human2 data"))
biplot(pca_human2, choices = 1:2, title("Principal components explaining variance in non-standardized human2 data", cex = 1.5, font = 2))
biplot(pca_human2, choices = 1:2, title("Principal components explaining variance in non-standardized human2 data", cex = 0.5, font = 2))
biplot(pca_human2, choices = 1:2, title("Principal components explaining variance in non-standardized human2 data", cex = 0.5, font = 1))
biplot(pca_human2, choices = 1:2, title("Principal components explaining variance in non-standardized human2 data", cex = 0.5, font = 1))
biplot(pca_human2, choices = 1:2, title("Principal components explaining variance in non-standardized human2 data", cex = 0.5, font = 4))
biplot(pca_human2, choices = 1:2, title("Principal components explaining variance in non-standardized human2 data", cex = 0.5, font =0.5))
biplot(pca_human2, choices = 1:2, title("Principal components explaining variance in non-standardized human2 data", cex = 2.5, font =1.5))
biplot(pca_human2, choices = 1:2, title("Principal components explaining variance in non-standardized human2 data", cex = 0.2, font = 2))
biplot(pca_human2, choices = 1:2, subtitle("Principal components explaining variance in non-standardized human2 data", cex = 0.2, font = 2))
biplot(pca_human2, choices = 1:2, title(sub = "Principal components explaining variance in non-standardized human2 data", cex = 0.2, font = 2))
biplot(pca_human2, choices = 1:2, sub = "Principal components explaining variance in non-standardized human2 data", par(c(2, 0.2))
cex = 0.2, font = 2)
biplot(pca_human2, choices = 1:2, sub = "Principal components explaining variance in non-standardized human2 data")
biplot(pca_human2, choices = 1:2, cex = c(0.5, 1.5), sub = "Principal components explaining variance in non-standardized human2 data")
human2_std <- scale(human2)
summary(human2_std)
pca_human2 <- prcomp(human2_std)
biplot(pca_human2, choices = 1:2, cex = c(0.5, 1.5), sub = "Principal components explaining variance in standardized human2 data")
pca_human2 <- prcomp(human2)
biplot(pca_human2, choices = 1:2, cex = c(0.5, 1.5), sub = "Principal components explaining variance in non-standardized human2 data")
s <- summary(pca_human2)
s
library(scales)
pca_pr <- round(100*s$importance[2,], digits = 1)
pca_pr
pc_lab <- paste0(names(pca_pr), " (", pca_pr, "%)")
biplot(pca_human2, cex = c(0.5, 1.5), xlab = pc_lab[1], ylab = pc_lab[2], sub = "Principal components explaining variance in non-standardized human2 data")
human2_std <- scale(human2)
summary(human2_std)
pca_human2_std <- prcomp(human2_std)
biplot(pca_human2_std, choices = 1:2, cex = c(0.5, 1.5), sub = "Principal components explaining variance in standardized human2 data")
s_std <- summary(pca_human2_std)
s_std
pca_pr_std <- round(100*s_std$importance[2,], digits = 1)
pca_pr_std
pc_lab_std <- paste0(names(pca_pr_std), " (", pca_pr, "%)")
biplot(pca_human2, cex = c(0.5, 1.5), xlab = pc_lab_std[1], ylab = pc_lab_std[2], sub = "Principal components explaining variance in non-standardized human2 data")
biplot(pca_human2_std, cex = c(0.5, 1.5), xlab = pc_lab_std[1], ylab = pc_lab_std[2], sub = "Principal components explaining variance in non-standardized human2 data")
pca_human2 <- prcomp(human2)
biplot(pca_human2, choices = 1:2, cex = c(0.5, 1.5), sub = "Principal components explaining variance in non-standardized human2 data")
s <- summary(pca_human2)
s
pca_pr <- round(100*s$importance[2,], digits = 1)
pca_pr
pc_lab <- paste0(names(pca_pr), " (", pca_pr, "%)")
biplot(pca_human2, cex = c(0.5, 1.5), xlab = pc_lab[1], ylab = pc_lab[2], sub = "Principal components explaining variance in non-standardized human2 data")
human2_std <- scale(human2)
summary(human2_std)
pca_human2_std <- prcomp(human2_std)
s_std <- summary(pca_human2_std)
s_std
pca_pr_std <- round(100*s_std$importance[2,], digits = 1)
pca_pr_std
pc_lab_std <- paste0(names(pca_pr_std), " (", pca_pr_std, "%)")
biplot(pca_human2_std, cex = c(0.5, 1.5), xlab = pc_lab_std[1], ylab = pc_lab_std[2], sub = "Principal components explaining variance in non-standardized human2 data")
install.packages("FactoMineR")
library(FactoMineR)
read.csv(tea, sep = ",", header = TRUE)
read.table(tea, sep = "", header = FALSE)
load(tea, envir = parent.frame(), verbose = FALSE)
tea <- read.table(tea, sep = "", header = FALSE)
tea <-
data("tea")
data("tea")
str(tea)
gather(tea) %>% ggplot(aes(value)) + geom_bar() + facet_wrap("key", scales = "free")
gather(tea) %>% ggplot(aes(value), type = geom_bar(), theme(axis.text.x = element_text(angle = 45, hjust = 1, size = 8))) + facet_wrap("key", scales = "free")
pairs(tea)
p <- ggpairs(tea, mapping = aes(), lower = list(combo = wrap("facethist", bins = 20)))
p
summary(tea)
mca <- MCA(tea, graph = FALSE)
summary(mca)
plot(tea, invisible=c("ind"), habillage = "quali")
install.packages("FactoMineR")
library(FactoMineR)
data("tea")
str(tea)
dim(tea)
mca <- MCA(tea, graph = FALSE)
summary(mca)
summary("mca")
plot(tea, invisible=c("ind"), habillage = "quali")
plot(tea, invisible=c("ind"))
library(MASS); library(tidyr); library(dplyr); library(ggplot2); library(GGally)
mca <- MCA(tea, graph = FALSE)
summary("mca")
plot(tea, invisible=c("ind"))
summary(tea)
mca <- MCA(tea, graph = FALSE)
summary(mca)
plot(mca, invisible=c("ind"))
rownames(tea)
colnames(tea)
keep_columns <- c("tearoom", "where", "price", "friends", "How", "sugar", "how", "tea.time", "frequency", "SPC")
tea_use <- select(tea, one_of(keep_columns))
mca <- MCA(tea_use, graph = FALSE)
summary(mca)
plot(mca, invisible=c("ind"))
keep_columns <- c("tearoom", "where", "price", "how", "tea.time", "frequency", "SPC")
tea_use <- select(tea, one_of(keep_columns))
mca <- MCA(tea_use, graph = FALSE)
summary(mca)
plot(mca, invisible=c("ind"))
plot(mca, invisible=c("ind"), habillage = "quali")
library(FactoMineR)
data("tea")
library(MASS); library(tidyr); library(dplyr); library(ggplot2); library(GGally)
str(tea)
dim(tea)
knitr::opts_chunk$set(echo = TRUE)
str(tea)
install.packages("FactoMineR")
install.packages("FactoMineR")
knitr::opts_chunk$set(echo = TRUE)
install.packages("FactoMineR")
data("tea")
library(FactoMineR)
data("tea")
library(MASS); library(tidyr); library(dplyr); library(ggplot2); library(GGally)
str(tea)
dim(tea)
knitr::opts_chunk$set(echo = TRUE)
summary(cars)
install.packages("FactoMineR")
library(FactoMineR)
data("tea")
library(MASS); library(tidyr); library(dplyr); library(ggplot2); library(GGally)
str(tea)
dim(tea)
install.packages("FactoMineR")
install.packages("FactoMineR")
knitr::opts_chunk$set(echo = TRUE)
install.packages("FactoMineR")
library(FactoMineR)
data("tea")
library(MASS); library(tidyr); library(dplyr); library(ggplot2); library(GGally)
data("tea")
str(tea)
dim(tea)
knitr::kable(tea, caption = "Tea table")
knitr::kable(tea_use, caption = "Tea table")
gather(tea) %>% ggplot(aes(value)) + geom_bar() + facet_wrap("key", scales = "free")
keep_columns <- c("tearoom", "where", "price", "how", "tea.time", "frequency", "SPC")
tea_use <- select(tea, one_of(keep_columns))
mca <- MCA(tea_use, graph = FALSE)
summary(mca)
plot(mca, invisible=c("ind"), habillage = "quali")
install.packages("FactoMineR", eval = FALSE)
install.packages("FactoMineR", eval = FALSE)
install.packages("FactoMineR", repos = "http://cran.us.r-project.org")
install.packages("FactoMineR", repos = "http://cran.us.r-project.org")
library(MASS); library(tidyr); library(dplyr); library(ggplot2); library(GGally)
warning = F
library(MASS); library(tidyr); library(dplyr); library(ggplot2); library(GGally)
library(MASS); library(tidyr); library(dplyr); library(ggplot2); library(GGally)
library(MASS); library(tidyr); library(dplyr); library(ggplot2); library(GGally)
setwd("~/Desktop/IODS-final")
summary(happiness)
happiness <- read.table("world-happiness 2016.csv", sep = ",", header=TRUE)
summary(happiness)
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2); library(GGally); library(tidyr)
gather(happiness2) %>% ggplot(aes(value)) + geom_histogram() + facet_wrap("key", scales = "free")
happiness <- read.table("world-happiness 2016.csv", sep = ",", header=TRUE)
colnames(happiness)[1] <- "country"
colnames(happiness)[2] <- "region"
colnames(happiness)[3] <- "happ.rank"
colnames(happiness)[4] <- "happ.score"
colnames(happiness)[5] <- "lower.confint"
colnames(happiness)[6] <- "upper.confint"
colnames(happiness)[7] <- "gdpcapita"
colnames(happiness)[8] <- "socialsupport"
colnames(happiness)[9] <- "hlifeexp"
colnames(happiness)[10] <- "freedom"
colnames(happiness)[11] <- "corruption"
colnames(happiness)[12] <- "generosity"
colnames(happiness)[13] <- "dystopia"
keep <- c("country", "happ.score", "gdpcapita", "socialsupport", "hlifeexp", "freedom", "corruption", "generosity")
happiness2 <- dplyr::select(happiness, one_of(keep))
str(happiness2)
library(dplyr)
happiness2 <- dplyr::select(happiness, one_of(keep))
str(happiness2)
rownames(happiness2)
rownames(happiness2) <- happiness2$country
rownames(happiness2)
str(happiness2)
happiness2 <- dplyr::select(happiness2, -country)
str(happiness2)
write.csv(happiness2, file = "happiness2.csv", row.names=FALSE)
read.table("happiness2.csv", sep = ";", header=TRUE)
library(ggplot2); library(GGally); library(tidyr); library(dplyr)
gather(happiness2) %>% ggplot(aes(value)) + geom_histogram() + facet_wrap("key", scales = "free")
summary(happiness2)
p <- ggpairs(happiness2, mapping = aes(), lower = list(combo = wrap("facethist", bins = 20)))
p
read.table("happiness2.csv", sep = ",", header=TRUE)
read.table("happiness2.csv", sep = ",", header=TRUE)
library(ggplot2); library(GGally); library(tidyr); library(dplyr)
gather(happiness2) %>% ggplot(aes(value)) + geom_histogram() + facet_wrap("key", scales = "free")
summary(happiness2)
p <- ggpairs(happiness2, mapping = aes(), lower = list(combo = wrap("facethist", bins = 20)))
p
